(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7479,8230],{20:(e,t,r)=>{"use strict";r.d(t,{Dt:()=>a,f$:()=>c,h0:()=>s,yI:()=>o});let n={Ai:r(8465),Bs:r(6478),Bi:r(728),Ci:r(627),Di:r(154),Fi:r(7972),Fc:r(2666),Fa:r(9884),Fa6:r(7082),Gi:r(9711),Go:r(5581),Gr:r(412),Hi:r(6038),Hi2:r(2384),Im:r(5013),Io:r(5683),Io5:r(8564),Lu:r(8214),Md:r(5732),Pi:r(9614),Ri:r(1976),Rx:r(7394),Si:r(3219),Sl:r(4218),Tb:r(2833),Tfi:r(6790),Ti:r(7162),Vsc:r(1529),Wi:r(2799),Cg:r(8705)},l={};Object.entries(n).forEach(e=>{let[t,r]=e;Object.entries(r).forEach(e=>{let[t,r]=e;"function"==typeof r&&(l[t]=r)})});let o=e=>{if(l[e])return l[e];for(let[t,r]of Object.entries(n))if(r[e]&&"function"==typeof r[e])return r[e];return console.warn("Icon not found: ".concat(e)),null},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(!e)return[];let r=e.toLowerCase(),n=[];for(let e in l)if(e.toLowerCase().includes(r)&&(n.push(e),n.length>=t))break;return n},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t={};return Object.entries(n).forEach(r=>{let[n,l]=r,o=Object.keys(l).filter(e=>"function"==typeof l[e]).slice(0,e);o.length>0&&(t[n.toLowerCase()]=o)}),t},c=()=>Object.keys(l).length},314:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/categories/new",function(){return r(5445)}])},587:(e,t,r)=>{"use strict";r.d(t,{k5:()=>u});var n=r(4232),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=n.createContext&&n.createContext(l),a=["attr","size","title"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,l,o;n=e,l=t,o=r[t],(l=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(l))in n?Object.defineProperty(n,l,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[l]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){return t=>n.createElement(d,s({attr:i({},e.attr)},t),function e(t){return t&&t.map((t,r)=>n.createElement(t.tag,i({key:r},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var r,{attr:l,size:o,title:c}=e,u=function(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}(e,a),d=o||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,u,{className:r,style:i(i({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&n.createElement("title",null,c),e.children)};return void 0!==o?n.createElement(o.Consumer,null,e=>t(e)):t(l)}},3055:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(7876),l=r(4232),o=r(5611),a=r(20);let s=e=>{let{value:t,onChange:r}=e,[o,s]=(0,l.useState)(""),[c,i]=(0,l.useState)([]),[u,d]=(0,l.useState)({}),[f,p]=(0,l.useState)(0);(0,l.useEffect)(()=>{d((0,a.h0)(10)),p((0,a.f$)())},[]),(0,l.useEffect)(()=>{o.trim()?i((0,a.Dt)(o,100)):i([])},[o]);let h=e=>{let t=(0,a.yI)(e);return t?(0,n.jsx)(t,{className:"text-white",width:"20",height:"20"}):(console.warn("Icon not found: ".concat(e)),(0,n.jsx)("span",{className:"text-red-500",children:"?"}))};return(0,n.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,n.jsxs)("h2",{className:"text-xl font-bold mb-4",children:["Icon Explorer (",f," icons available)"]}),(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)("input",{type:"text",placeholder:"Search icons...",className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",value:o,onChange:e=>s(e.target.value)})}),o?(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{className:"font-medium mb-2",children:["Search Results (",c.length,")"]}),(0,n.jsx)("div",{className:"grid grid-cols-6 gap-2 max-h-60 overflow-y-auto",children:c.length>0?c.map(e=>(0,n.jsxs)("div",{className:"p-2 rounded cursor-pointer hover:bg-gray-700 flex flex-col items-center justify-center ".concat(t===e?"bg-blue-600":""),onClick:()=>r(e),title:e,children:[h(e),(0,n.jsx)("span",{className:"text-xs mt-1 truncate w-full text-center",children:e})]},e)):(0,n.jsxs)("div",{className:"col-span-6 text-center py-4 text-gray-400",children:['No icons found matching "',o,'"']})})]}):(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-medium mb-2",children:"Icon Samples by Library"}),Object.entries(u).map(e=>{let[l,o]=e;return(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("h4",{className:"text-sm font-medium mb-1 capitalize",children:[l," Icons"]}),(0,n.jsx)("div",{className:"grid grid-cols-6 gap-2",children:o.map(e=>(0,n.jsxs)("div",{className:"p-2 rounded cursor-pointer hover:bg-gray-700 flex flex-col items-center justify-center ".concat(t===e?"bg-blue-600":""),onClick:()=>r(e),title:e,children:[h(e),(0,n.jsx)("span",{className:"text-xs mt-1 truncate w-full text-center",children:e})]},e))})]},l)})]})]})},c=e=>{let{value:t,onChange:r}=e,[o,a]=(0,l.useState)(!1);return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2 p-2 border border-gray-600 rounded cursor-pointer",onClick:()=>a(!o),children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded",style:{backgroundColor:t}}),(0,n.jsx)("span",{children:t})]}),o&&(0,n.jsxs)("div",{className:"absolute z-50 mt-1 bg-gray-800 border border-gray-600 rounded shadow-lg p-4",children:[(0,n.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["#4299e1","#9f7aea","#f56565","#48bb78","#ed8936","#ecc94b","#38b2ac","#f687b3","#a0aec0"].map(e=>(0,n.jsx)("div",{className:"w-8 h-8 rounded cursor-pointer border border-gray-600",style:{backgroundColor:e},onClick:()=>{r(e),a(!1)}},e))}),(0,n.jsxs)("div",{className:"mt-3",children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Custom Color"}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("input",{type:"color",value:t,onChange:e=>r(e.target.value),className:"w-8 h-8 rounded cursor-pointer border-0 p-0 bg-transparent"}),(0,n.jsx)("input",{type:"text",value:t,onChange:e=>r(e.target.value),className:"flex-1 p-1 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"#RRGGBB",pattern:"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"})]})]}),(0,n.jsx)("div",{className:"mt-3 flex justify-end",children:(0,n.jsx)("button",{type:"button",className:"px-3 py-1 bg-gray-700 rounded hover:bg-gray-600 text-sm",onClick:()=>a(!1),children:"Close"})})]})]})},i=e=>{let{category:t,onSave:r,onCancel:a}=e,[i,u]=(0,l.useState)((null==t?void 0:t.name)||""),[d,f]=(0,l.useState)((null==t?void 0:t.color)||"#4299e1"),[p,h]=(0,l.useState)((null==t?void 0:t.icon)||""),[m,b]=(0,l.useState)(!1),[y,g]=(0,l.useState)(""),v=async e=>{if(e.preventDefault(),!i.trim()){g("Category name is required");return}b(!0),g("");try{(null==t?void 0:t.id)?await o.clientDataService.updateCategory(t.id,{name:i,color:d,icon:p}):await o.clientDataService.createCategory({name:i,color:d,icon:p}),r()}catch(e){console.error("Error saving category:",e),g("Failed to save category. Please try again.")}finally{b(!1)}};return(0,n.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,n.jsx)("h2",{className:"text-xl font-bold",children:t?"Edit Category":"Add New Category"}),y&&(0,n.jsx)("div",{className:"bg-red-900 text-white p-2 rounded",children:y}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Category Name"}),(0,n.jsx)("input",{type:"text",value:i,onChange:e=>u(e.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Enter category name",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Color"}),(0,n.jsx)(c,{value:d,onChange:f})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Icon"}),(0,n.jsx)(s,{value:p,onChange:h})]}),(0,n.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,n.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 bg-gray-700 rounded hover:bg-gray-600",disabled:m,children:"Cancel"}),(0,n.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 rounded hover:bg-blue-500",disabled:m,children:m?"Saving...":"Save Category"})]})]})}},3999:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(7876),l=r(4232),o=r(9099),a=r(5261);function s(e){return function(t){let r=(0,o.useRouter)(),[s,c]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{(async()=>{try{if(!localStorage.getItem("isAdmin")){r.push("/admin/login");return}if(!await (0,a.uu)()){localStorage.removeItem("isAdmin"),r.push("/admin/login");return}c(!1)}catch(e){console.error("Auth check error:",e),r.push("/admin/login")}})()},[r]),s)?(0,n.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,n.jsx)("div",{className:"text-xl",children:"Loading..."})}):(0,n.jsx)(e,{...t})}}},4129:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return l}});let n=r(4232);function l(e,t){let r=(0,n.useRef)(null),l=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=l.current;t&&(l.current=null,t())}else e&&(r.current=o(e,n)),t&&(l.current=o(t,n))},[e,t])}function o(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4249:(e,t,r)=>{"use strict";function n(e,t,r,n){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return n}}),r(1501),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5261:(e,t,r)=>{"use strict";r.d(t,{jL:()=>a,uu:()=>o,wR:()=>l}),r(3426),r(5611);var n=r(5364);async function l(){try{return(await fetch("/_api/web/currentuser",{method:"GET",headers:{Accept:"application/json;odata=verbose"},credentials:"include"})).ok}catch(e){return console.error("Authentication check failed:",e),!1}}async function o(){try{let{clientDataService:e}=await Promise.resolve().then(r.bind(r,5611));return await e.isCurrentUserAdmin()}catch(e){return console.error("Admin check failed:",e),!1}}function a(){let e=encodeURIComponent(window.location.href);window.location.href="/_layouts/15/authenticate.aspx?Source=".concat(e)}r(8220).Buffer,n.env.JWT_SECRET},5445:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(7876);r(4232);var l=r(9099),o=r(3055),a=r(8230),s=r.n(a);let c=(0,r(3999).A)(()=>{let e=(0,l.useRouter)();return(0,n.jsx)("div",{className:"min-h-screen bg-gray-900 text-white p-8",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold",children:"Create New Category"}),(0,n.jsx)(s(),{href:"/admin",children:(0,n.jsx)("button",{className:"bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded transition-colors",children:"Back to Dashboard"})})]}),(0,n.jsx)(o.A,{onSave:()=>e.push("/admin"),onCancel:()=>{e.push("/admin")}})]})})})},8230:(e,t,r)=>{e.exports=r(9491)},8880:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return c}});let n=r(4232),l=r(6655),o="function"==typeof IntersectionObserver,a=new Map,s=[];function c(e){let{rootRef:t,rootMargin:r,disabled:c}=e,i=c||!o,[u,d]=(0,n.useState)(!1),f=(0,n.useRef)(null),p=(0,n.useCallback)(e=>{f.current=e},[]);return(0,n.useEffect)(()=>{if(o){if(i||u)return;let e=f.current;if(e&&e.tagName)return function(e,t,r){let{id:n,observer:l,elements:o}=function(e){let t;let r={root:e.root||null,margin:e.rootMargin||""},n=s.find(e=>e.root===r.root&&e.margin===r.margin);if(n&&(t=a.get(n)))return t;let l=new Map;return t={id:r,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=l.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e),elements:l},s.push(r),a.set(r,t),t}(r);return o.set(e,t),l.observe(e),function(){if(o.delete(e),l.unobserve(e),0===o.size){l.disconnect(),a.delete(n);let e=s.findIndex(e=>e.root===n.root&&e.margin===n.margin);e>-1&&s.splice(e,1)}}}(e,e=>e&&d(e),{root:null==t?void 0:t.current,rootMargin:r})}else if(!u){let e=(0,l.requestIdleCallback)(()=>d(!0));return()=>(0,l.cancelIdleCallback)(e)}},[i,r,t,u,f.current]),[p,u,(0,n.useCallback)(()=>{d(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9491:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return v}});let n=r(4252),l=r(7876),o=n._(r(4232)),a=r(8321),s=r(5885),c=r(1008),i=r(7818),u=r(1423),d=r(6396),f=r(8880),p=r(4249),h=r(6956),m=r(4129),b=new Set;function y(e,t,r,n){if((0,s.isLocalURL)(t)){if(!n.bypassPrefetchedCheck){let l=t+"%"+r+"%"+(void 0!==n.locale?n.locale:"locale"in e?e.locale:void 0);if(b.has(l))return;b.add(l)}e.prefetch(t,r,n).catch(e=>{})}}function g(e){return"string"==typeof e?e:(0,c.formatUrl)(e)}let v=o.default.forwardRef(function(e,t){let r,n;let{href:c,as:b,children:v,prefetch:x=null,passHref:j,replace:w,shallow:N,scroll:C,locale:O,onClick:k,onMouseEnter:_,onTouchStart:S,legacyBehavior:P=!1,...E}=e;r=v,P&&("string"==typeof r||"number"==typeof r)&&(r=(0,l.jsx)("a",{children:r}));let M=o.default.useContext(d.RouterContext),I=!1!==x,{href:R,as:A}=o.default.useMemo(()=>{if(!M){let e=g(c);return{href:e,as:b?g(b):e}}let[e,t]=(0,a.resolveHref)(M,c,!0);return{href:e,as:b?(0,a.resolveHref)(M,b):t||e}},[M,c,b]),L=o.default.useRef(R),D=o.default.useRef(A);P&&(n=o.default.Children.only(r));let T=P?n&&"object"==typeof n&&n.ref:t,[B,F,U]=(0,f.useIntersection)({rootMargin:"200px"}),z=o.default.useCallback(e=>{(D.current!==A||L.current!==R)&&(U(),D.current=A,L.current=R),B(e)},[A,R,U,B]),G=(0,m.useMergedRef)(z,T);o.default.useEffect(()=>{M&&F&&I&&y(M,R,A,{locale:O})},[A,R,F,O,I,null==M?void 0:M.locale,M]);let H={ref:G,onClick(e){P||"function"!=typeof k||k(e),P&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e),M&&!e.defaultPrevented&&!function(e,t,r,n,l,o,a,c){let{nodeName:i}=e.currentTarget;!("A"===i.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!(0,s.isLocalURL)(r)))&&(e.preventDefault(),(()=>{let e=null==a||a;"beforePopState"in t?t[l?"replace":"push"](r,n,{shallow:o,locale:c,scroll:e}):t[l?"replace":"push"](n||r,{scroll:e})})())}(e,M,R,A,w,N,C,O)},onMouseEnter(e){P||"function"!=typeof _||_(e),P&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),M&&y(M,R,A,{locale:O,priority:!0,bypassPrefetchedCheck:!0})},onTouchStart:function(e){P||"function"!=typeof S||S(e),P&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),M&&y(M,R,A,{locale:O,priority:!0,bypassPrefetchedCheck:!0})}};if((0,i.isAbsoluteUrl)(A))H.href=A;else if(!P||j||"a"===n.type&&!("href"in n.props)){let e=void 0!==O?O:null==M?void 0:M.locale,t=(null==M?void 0:M.isLocaleDomain)&&(0,p.getDomainLocale)(A,e,null==M?void 0:M.locales,null==M?void 0:M.domainLocales);H.href=t||(0,h.addBasePath)((0,u.addLocale)(A,e,null==M?void 0:M.defaultLocale))}return P?o.default.cloneElement(n,H):(0,l.jsx)("a",{...E,...H,children:r})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}},e=>{var t=t=>e(e.s=t);e.O(0,[4938,8513,3629,3835,241,2710,713,3302,2517,8585,3753,8511,9942,9897,5015,1163,7236,2236,5711,6355,9756,289,1287,6893,8272,1285,2689,8433,7141,2883,2768,4208,5611,636,6593,8792],()=>t(314)),_N_E=e.O()}]);