"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[46],{587:(e,r,t)=>{t.d(r,{k5:()=>d});var a=t(4232),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=a.createContext&&a.createContext(n),o=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach(function(r){var a,n,s;a=e,n=r,s=t[r],(n=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,r||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(n))in a?Object.defineProperty(a,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function d(e){return r=>a.createElement(u,i({attr:c({},e.attr)},r),function e(r){return r&&r.map((r,t)=>a.createElement(r.tag,c({key:t},r.attr),e(r.child)))}(e.child))}function u(e){var r=r=>{var t,{attr:n,size:s,title:l}=e,d=function(e,r){if(null==e)return{};var t,a,n=function(e,r){if(null==e)return{};var t={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;t[a]=e[a]}return t}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}(e,o),u=s||r.size||"1em";return r.className&&(t=r.className),e.className&&(t=(t?t+" ":"")+e.className),a.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,d,{className:t,style:c(c({color:e.color||r.color},r.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&a.createElement("title",null,l),e.children)};return void 0!==s?a.createElement(s.Consumer,null,e=>r(e)):r(n)}},3999:(e,r,t)=>{t.d(r,{A:()=>i});var a=t(7876),n=t(4232),s=t(9099),o=t(5261);function i(e){return function(r){let t=(0,s.useRouter)(),[i,l]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{(async()=>{try{if(!localStorage.getItem("isAdmin")){t.push("/admin/login");return}if(!await (0,o.uu)()){localStorage.removeItem("isAdmin"),t.push("/admin/login");return}l(!1)}catch(e){console.error("Auth check error:",e),t.push("/admin/login")}})()},[t]),i)?(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-xl",children:"Loading..."})}):(0,a.jsx)(e,{...r})}}},4846:(e,r,t)=>{t.d(r,{A:()=>m});var a=t(7876),n=t(4232),s=t(5611),o=t(9884);let i={fa:o,md:t(5732),fi:t(7972),ai:t(8465),bs:t(6478),io:t(5683),io5:t(8564),ri:t(1976),ti:t(7162),gi:t(9711),wi:t(2799),di:t(154),si:t(3219),vsc:t(1529),cg:t(8705),hi:t(6038),bi:t(728)},l=e=>{if(!e)return null;let r=e.substring(0,2).toLowerCase(),t=e;"io5"===e.substring(0,3).toLowerCase()&&(r="io5",t=e);let a=i[r];return a?a[t]||null:o[e]||null},c={common:["FaHome","FaFolder","FaFile","FaCalendar","FaClock","FaUser","FaUsers","FaCog","FaSearch","FaBell","FaEnvelope","FaPhone"],arrows:["FaArrowUp","FaArrowDown","FaArrowLeft","FaArrowRight","FaChevronUp","FaChevronDown","FaChevronLeft","FaChevronRight"],business:["FaBuilding","FaBriefcase","FaChartBar","FaChartLine","FaChartPie","FaMoneyBillAlt","FaHandshake","FaProjectDiagram"],technology:["FaLaptop","FaDesktop","FaMobile","FaTablet","FaServer","FaDatabase","FaCode","FaBug","FaWifi","FaCloud"],social:["FaFacebook","FaTwitter","FaInstagram","FaLinkedin","FaYoutube","FaSlack","FaGithub","FaWhatsapp"]};Object.values(c).flat();let d=e=>{let{value:r,onChange:t}=e,[s,o]=(0,n.useState)(""),[i,d]=(0,n.useState)(!1),u=Object.values(c).flat(),m=s?u.filter(e=>e.toLowerCase().includes(s.toLowerCase())):u;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-2 border border-gray-600 rounded cursor-pointer",onClick:()=>d(!i),children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-700 rounded flex items-center justify-center",children:(()=>{if(!r)return(0,a.jsx)("span",{className:"text-gray-400",children:"Select an icon"});let e=l(r);return e?(0,a.jsx)(e,{className:"text-white",size:20}):(0,a.jsx)("span",{children:"\uD83D\uDCC1"})})()}),(0,a.jsx)("span",{children:r||"Select an icon"})]}),i&&(0,a.jsxs)("div",{className:"absolute z-50 mt-1 w-96 bg-gray-800 border border-gray-600 rounded shadow-lg p-4",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("input",{type:"text",placeholder:"Search icons...",className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",value:s,onChange:e=>o(e.target.value)})}),s?(0,a.jsx)("div",{className:"grid grid-cols-6 gap-2 max-h-60 overflow-y-auto",children:m.map(e=>{let n=l(e);return(0,a.jsx)("div",{className:"p-2 rounded cursor-pointer hover:bg-gray-700 flex items-center justify-center ".concat(r===e?"bg-blue-600":""),onClick:()=>{t(e),d(!1)},title:e,children:n?(0,a.jsx)(n,{className:"text-white",size:20}):(0,a.jsx)("span",{children:"?"})},e)})}):(0,a.jsx)("div",{className:"max-h-60 overflow-y-auto",children:Object.entries(c).map(e=>{let[n,s]=e;return(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-white font-medium mb-2 capitalize",children:n}),(0,a.jsx)("div",{className:"grid grid-cols-6 gap-2",children:s.map(e=>{let n=l(e);return(0,a.jsx)("div",{className:"p-2 rounded cursor-pointer hover:bg-gray-700 flex items-center justify-center ".concat(r===e?"bg-blue-600":""),onClick:()=>{t(e),d(!1)},title:e,children:n?(0,a.jsx)(n,{className:"text-white",size:20}):(0,a.jsx)("span",{children:"?"})},e)})})]},n)})})]})]})},u=e=>{let{value:r,onChange:t}=e,[s,o]=(0,n.useState)(!1);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-2 border border-gray-600 rounded cursor-pointer",onClick:()=>o(!s),children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded",style:{backgroundColor:r}}),(0,a.jsx)("span",{children:r})]}),s&&(0,a.jsxs)("div",{className:"absolute z-50 mt-1 bg-gray-800 border border-gray-600 rounded shadow-lg p-4",children:[(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:["#4299e1","#9f7aea","#f56565","#48bb78","#ed8936","#ecc94b","#38b2ac","#f687b3","#a0aec0"].map(e=>(0,a.jsx)("div",{className:"w-8 h-8 rounded cursor-pointer border border-gray-600",style:{backgroundColor:e},onClick:()=>{t(e),o(!1)}},e))}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Custom Color"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"color",value:r,onChange:e=>t(e.target.value),className:"w-8 h-8 rounded cursor-pointer border-0 p-0 bg-transparent"}),(0,a.jsx)("input",{type:"text",value:r,onChange:e=>t(e.target.value),className:"flex-1 p-1 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"#RRGGBB",pattern:"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"})]})]}),(0,a.jsx)("div",{className:"mt-3 flex justify-end",children:(0,a.jsx)("button",{type:"button",className:"px-3 py-1 bg-gray-700 rounded hover:bg-gray-600 text-sm",onClick:()=>o(!1),children:"Close"})})]})]})},m=e=>{let{category:r,onSave:t,onCancel:o}=e,[i,l]=(0,n.useState)((null==r?void 0:r.name)||""),[c,m]=(0,n.useState)((null==r?void 0:r.color)||"#4299e1"),[h,b]=(0,n.useState)((null==r?void 0:r.icon)||""),[g,p]=(0,n.useState)(!1),[f,v]=(0,n.useState)(""),x=async e=>{if(e.preventDefault(),!i.trim()){v("Category name is required");return}p(!0),v("");try{(null==r?void 0:r.id)?await s.clientDataService.updateCategory(r.id,{name:i,color:c,icon:h}):await s.clientDataService.createCategory({name:i,color:c,icon:h}),t()}catch(e){console.error("Error saving category:",e),v("Failed to save category. Please try again.")}finally{p(!1)}};return(0,a.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:r?"Edit Category":"Add New Category"}),f&&(0,a.jsx)("div",{className:"bg-red-900 text-white p-2 rounded",children:f}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Category Name"}),(0,a.jsx)("input",{type:"text",value:i,onChange:e=>l(e.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Enter category name",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Color"}),(0,a.jsx)(u,{value:c,onChange:m})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Icon"}),(0,a.jsx)(d,{value:h,onChange:b})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:o,className:"px-4 py-2 bg-gray-700 rounded hover:bg-gray-600",disabled:g,children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 rounded hover:bg-blue-500",disabled:g,children:g?"Saving...":"Save Category"})]})]})}},5261:(e,r,t)=>{t.d(r,{jL:()=>o,uu:()=>s,wR:()=>n}),t(3426),t(5611);var a=t(5364);async function n(){try{return(await fetch("/_api/web/currentuser",{method:"GET",headers:{Accept:"application/json;odata=verbose"},credentials:"include"})).ok}catch(e){return console.error("Authentication check failed:",e),!1}}async function s(){try{let{clientDataService:e}=await Promise.resolve().then(t.bind(t,5611));return await e.isCurrentUserAdmin()}catch(e){return console.error("Admin check failed:",e),!1}}function o(){let e=encodeURIComponent(window.location.href);window.location.href="/_layouts/15/authenticate.aspx?Source=".concat(e)}t(8220).Buffer,a.env.JWT_SECRET}}]);